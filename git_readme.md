# TestProject
Пример работы с github.

## Заметки по работе с git/github

### Разовая первичная настройка

Указать username и email, которые будут использоваться по умолчанию для указания информации об авторе изменений  
`git config --global user.name 'your name'`  
`git config --global user.email "your@mail"`

### Создать/получить репозиторий

Создать локально
1. Создать директорию для нового репозитория и перейти в неё(для linux можно использовать `mkdir` и `cd`)
2. Выполнить инициализацию репозитория `git init`

Создать и получить с github
1. Авторизоваться на github
2. Находясь на главной странице или в списке собственных репозиториев нажать "New"
3. Следовать инструкции создания репозитория
	1. установить необходимые параметры для видимости репозитория и наличия предсозданных файлов (readme/license)
4. Находясь внутри созданного репозитория скопировать ссылку для клонирования находящуюся за кнопкой "Code"
5. Открыть терминал, перейти в директорию для хранения проектов/репозиториев
6. Выполнить `git clone {ссылка, скопированна из П.4}`

Для получения имеющегося на Github репозитория проследовать П.4 и далее.

### Опциональные действия после клонирования репозитория:

1. `git init`
2. Задать для репозитория собственные имя и email
	* Необходимо делать, если для данного репозитория необходимо работать от пользователя, отличного от умолчания.
	* `git config user.name 'your name'`
	* `git config user.email "your@mail"`
3. Настроить общение с github через [ssh ключ](https://htmlacademy.ru/blog/git/git-console) или [access token](https://linuxpip.org/git-error-fatal-authentication-failed/)
	* Для использования отдельного ssh ключа для каждого репозитория можно [указать его явно](https://stackoverflow.com/questions/4565700/how-to-specify-the-private-ssh-key-to-use-when-executing-shell-command-on-git) в опциях git выполнив `git config core.sshCommand 'ssh -i private_key_file'`

### Работа с репозиторием

1. Непосредственно изменение файлов
	* Не требует каких либо действий в git
2. Добавление файла к репозиторию `git add {file}`
	* Необходимо для начала отслеживания изменений в файле.
	* Выполняется каждый раз как файл был добавлен/изменён/удалён
	* Можно указать как путь к файлу или нескольким файлам, так и "`.`" знак точки вместо файла для добавления всех изменённых файлов
4. Закрепление изменения в репозитории `git commit -m "some commentary"`
	* Необходимо вместо "some commentary" описывать актуальные изменения для наглядности
	* Можно не указывать `-m "some commentary"`, тогда git запустит вешний редактор для запроса комментария у пользователя.
5. Просмотр изменений в отслеживаемых файлах `git diff`
	* Покажет изменения выполненные в файлах относительно последнего commit
	* Можно указать конкретный файл, если таких несколько
6. Отправление изменений на внешний сервер `git push`
	* Можно опустить, если репозиторий существует только на локальном ПК
7. Лог действий `git log`
	* Выведет историю `commit` действий с указанием времени и автора
	* Можно добавить ключ `-c`, что также покажет изменения в файлах
8. Текущий статус репозитория `git status`
	* Покажет наличие и состояние файлов в репозитории исходя из их статуса "отслеживается"/"новый"/"удалён"
	* Также сообщит о наличии не отправленных `commit`, если таковые есть и репозиторий находится на внешнем сервере
9. Работа с ветками `git branch`
	* Просто выполнение комманды покажет список текущих веток
	* Добавление к комманде `name` приведёт к созданию ветки `name`. Например `git branch new_feature`
	* Указание ветки с ключем `-d` приведёт к её удалению. Например `git branch -d old_feature`
10. Слияние веток `git merge`
	* `git merge name`  сольёт в текущую ветку данные из ветки `name`

## Заметки о работе с merge

Базовый функционал самодостаточен и не вызывает проблем. Но в некоторых случаях может возникнуть конфликт в виду того, что git не сможет автоматически объединить данные из разных веток.

Для решения конфликтов можно решать встроенные в IDE инструменты или использовать комманду git mergetool, подробнее о которой описано в [документации](https://git-scm.com/docs/git-mergetool), или более просто о настройке на Stack Overflow[Stack Overflow](https://stackoverflow.com/questions/426026/git-on-windows-how-do-you-set-up-a-mergetool)

Пример действий для воспроизведения конфликта:
* `git init`
* Создать файл `my_file.txt` с любым содержанием
* `git add my_file.txt`
* `git commit -m "init commit"`
* `git branch new_branch`
* Внести изменение в файл `my_file.txt` в строках 1-3
* `git add my_file.txt`
* `git commit -m "change lines 1-3"`
* `git checkout new_branch`
* Внести другое изменение в файл `my_file.txt` в строках 1-3
* `git add my_file.txt`
* `git commit -m "change lines 1-3"`
* `git checkout master`
* `git merge new_branch`
* На этом месте получим конфликт т.к. в ветках отличаются строки 1-3 и предложение исправить разницу

## Возможные примеры работы комманд и вопросы

> push не работает с ошибкой на фото
> ![error!](/images/push_auth_error.png "error image")

Не настроена аутентификация. Необходимо использовать стороннее ПО вроде Visual studio или рассмотреть настройку авторизации исходя П.3 описанного в "Опциональные действия после клонирования репозитория"

---

Для некоторых групп комманд можно использовать их более которкие версии.
Например.

1. `git commit **-a** -m "message"``
	* Ключ `-a` в данном случае автоматически выполняет `add` комманду для всех изменённых и ранее отслеживаемых файлов
2. `git checkout -b new_branch`
	* Ключ `-b` позволяет сразу создать ветку на которую происходит переключение.
