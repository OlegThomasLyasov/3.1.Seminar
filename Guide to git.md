# Инструкция по работе с Git

![значок](icon-git.png)

## Введение

> "Основная проблема с цитатами и шутками про Git заключается в том, что у каждого есть своя версия..."
Просторы интернета


**Git** — самая популярная в мире распределённая система контроля версий. Линус Торвальдс, разработчик ядра ОС Linux, создал этот инструмент ещё в 2005 году, а сегодня **Git** активно поддерживается как проект с открытым исходным кодом. Огромное количество открытых и коммерческих проектов используют **Git** для контроля версий.

## Начало работы с Git

Прежде всего необходимо установить **Git** на ваш компьютер.

[Ссылка для установки Git](https://git-scm.com/downloads)

Освоение работы с **Git** проще и правильнее всего осуществлять в процессе редактирования текстовых файлов с расширением *Markdown* (.md).
Для этого установите на свой компьютер редактор **Visual Studio Code**.

[Ссылка для установки VS Code](https://code.visualstudio.com/)

Теперь вы готовы к созданию своего первого репозитория (места хранения и поддержки данных). Создать репозиторий можно следующими основными способами:

* взять локальный каталог, не находящийся под версионным контролем и превратить его в репозиторий
* клонировать существующий репозиторий из другого места

Воспользуемся первым способом и создадим пустую папку на рабочем столе, после чего откроем её в **VS Code**.

Теперь перейдем непосредственно к командам **Git**

## Основные команды и особенности их применения

### 1. Как задать имя пользователя и данные почты

Имя пользователя нужно, чтобы привязывать коммиты к вашему имени. Задать или изменить имя пользователя можно с помощью команды ```git config```. Новое имя будет автоматически отображаться в последующих коммитах, отправленных на GitHub через командную строку. Если хотите скрыть своё реальное имя, можно использовать в качестве имени пользователя Git произвольный набор символов.

```
git config --global user.name "KAMaz64"
```

Кроме того, командой ```git config``` можно изменять адрес электронной почты, привязанный к вашим коммитам **Git**. Новый адрес электронной почты будет автоматически отображаться во всех дальнейших коммитах, поданных на GitHub через командную строку.

```
git config --global user.email "konstantin.a.mazunin@gmail.com"
```

### 2. Инициализация репозитория

Создать пустой репозиторий Git или вновь инициализировать существующий можно параметром ```init```. При инициализации он создаст скрытую папку. В ней содержатся все объекты и ссылки, которые Git использует и создаёт в истории работы над проектом.

```
git init
```

### 3. Добавление отдельных файлов или всех файлов в область подготовленных файлов

Добавить отдельный файл в область подготовленных файлов можно параметром ```add``` с указанием имени файла. Просто замените Guide to git. md на актуальное имя.

```
git add Guide to git.md
```

Кроме того, можно добавить все файлы и папки в эту область, поставив вместо имени файла точку :

```
git add .
```

### 4. Проверка статуса репозитория

Просмотреть статус нужного репозитория можно по ключевому слову ```status```: его действие распространяется на подготовленные, неподготовленные и неотслеживаемые файлы.

```
git status
```

### 5. Сохранение изменения (создание коммита)

Для того, чтобы сохранить произведенные изменения используется команда ```commit```

При создании коммита в репозитории можно добавить однострочное сообщение-комментарий с помощью параметра ```commit``` с флагом -m. Само сообщение вводится непосредственно после флага, в кавычках.

```
git commit -m "Your short summary about the commit"
```

Также, для того, чтобы не прописывать каждый раз отдельно ```add``` и ```commit``, их можно объединить в одной строке:

```
git commit -a -m "Your short summary about the commit"
```

### 6. Просмотр истории коммитов с изменениями

Просматривать изменения, внесённые в репозиторий, можно с помощью параметра ```log```. Он отображает список последних коммитов в порядке выполнения. Кроме того, добавив флаг -p, вы можете подробно изучить изменения, внесённые в каждый файл.

```
git log -p
```

### 7. Просмотр заданного коммита

Просмотреть полный список изменений, внесённых конкретным коммитом, можно с помощью параметра ```show```, указав идентификатор или хеш коммита. Значение хеша уникально для каждого коммита, созданного в вашем репозитории.

```
git show 1af17e73721dbe0c40011b82ed4bb1a7dbe3ce29
```

Также можно использовать сокращённый хеш.

```
git show 1af17e
```

### 8. Просмотр изменений до коммита

Можно просматривать список изменений, внесённых в репозиторий, используя параметр ```diff```. По умолчанию отображаются только изменения, не подготовленные для фиксации.

```
git diff
```

Для просмотра подготовленных изменений необходимо добавить флаг --staged.

```
git diff --staged
```

Также можно указать имя файла как параметр и просмотреть изменения, внесённые только в этот файл.

```
git diff somefile.js
```
### 9. Переключение между коммитами

Переключаться между отраженными в ```log``` коммитами, можно параметром ```checkout```. Для проведения операции требуется указать путь к требуемому коммиту (как уже было сказано ранее, хеш можно сокращать).

```
git checkout
```

### 10. Создание новой ветки и переход в неё

Создать новую ветку можно с помощью команды ```branch```, указав имя ветки.

```
git branch new_branch_name
```

Но **Git** не переключится на неё автоматически. Для автоматического перехода нужно добавить флаг -b и команду ```checkout```.

```
git checkout -b new_branch_name
```

### 11. Просмотр списка веток

Можно просматривать полный список веток, используя команду ```branch```. Команда отобразит все ветки, отметит текущую звёздочкой (*) и выделит её цветом.

```
git branch
```

Также можно вывести список удалённых веток с помощью флага -a.

```
git branch -a
```

### 12. Удаление ветки

Удалить ветку можно параметром ```branch``` с добавлением флага -d и указанием имени ветки. Если вы завершили работу над веткой и объединили её с основной, можно её удалить без потери истории. Однако, если выполнить команду удаления до слияния — в результате появится сообщение об ошибке. Этот защитный механизм предотвращает потерю доступа к файлам.

```
git branch -d existing_branch_name
```

Для принудительного удаления ветки используется флаг -D с заглавной буквой. В этом случае ветка будет удалена независимо от текущего статуса, без предупреждений.

```
git branch -D existing_branch_name
```

Вышеуказанные команды удаляют только локальную копию ветки. В удалённом репозитории она может сохраниться. Если хотите стереть удалённую ветку, выполните следующую команду:

```
git push origin --delete existing_branch_name
```

### 13. Слияние веток

Объединить две ветки можно командой ```merge``` с указанием имени ветки. Команда объединит указанную ветку с основной.

```
git merge existing_branch_name
```

Если надо выполнить коммит слияния, выполните команду ```git merge``` с флагом --no-ff.

```
git merge --no-ff existing_branch_name
```

Указанная команда объединит заданную ветку с основной и произведёт коммит слияния. Это необходимо для фиксации всех слияний в вашем репозитории.

### 14. Добавление удалённого репозитория

Добавить удалённый репозиторий можно параметром ```remote add```, указав shortname и url требуемого репозитория.

```
git remote add awesomeapp https://github.com/someurl..
```

### 15. Отправка изменений в удалённый репозиторий

Отправлять изменения в удалённый репозиторий можно параметром ```push``` с указанием имени репозитория и ветки.

```
git push origin main
```

Эта команда передаёт локальные изменения в центральный репозиторий, где с ними могут ознакомиться другие участники проекта.Отправлять изменения в удалённый репозиторий можно параметром ```push``` с указанием имени репозитория и ветки.

```
git push origin main
```

Эта команда передаёт локальные изменения в центральный репозиторий, где с ними могут ознакомиться другие участники проекта.

### 16. Получение изменений из удаленного репозитория

Для загрузки изменений из удалённого репозитория используется параметр ```pull```. Он скачивает копию текущей ветки с указанного удалённого репозитория и объединяет её с локальной копией.

```
git pull
```

Также можно просмотреть подробные сведения о загруженных файлах с помощью флага --verbose.

```
git pull --verbose
```

Продолжение следует...

## Полезные ссылки

[30 команд Git, необходимых для освоения интерфейса командной строки Git](https://habr.com/ru/company/ruvds/blog/599929/)

[Полезное обучающее приложение для новичков в Git](https://learngitbranching.js.org/?locale=ru_RU)

## Заключение

Мы познакомились с Git и основами работы с ним на примере редактирования текстовых файлов с разрешением *Markdown*

В следующих уроках мы подробнее рассмотрим аспекты работы в разных ветках, а также познакомимся с принципами работы удаленных репозиториев в github

![другая история](istoriya.jpg)

# Работа с удаленными репозиториями

## 1. Что такое *"Удаленный репозиторий"*.

Удаленный (иногда говорят *внешний*) репозиторий представляет собой версии вашего проекта, сохраненные на удаленном сервере. Доступ к репозиторию на таком сервере может осуществляться по интернету или по локальной сети.
Удаленный репозиторий – полноценный репозиторий, ничем не отличающийся от локального. У удаленного репозитория есть собственные ветки, собственный указатель HEAD, своя история коммитов и так далее.

Если мы подключим удаленный репозиторий к своему локальному, то у нас появятся копии всех ссылочных объектов удаленного репозитория. То есть, например, у удаленного репозитория есть ветка main, а у нас будет копия этой ветки – origin/main. Все такие ссылочные объекты (указатели, ветки и теги) удаленного репозитория хранятся почти там же, где и у локального – в директории .git/refs/remotes/<имя_удаленного_репозитория>.

Один из плюсов распределенной системы контроля версий заключается в том, что у вас может быть сколь угодно много удаленных репозиториев. Какие-то из них могут быть доступны только на чтение, а какие-то – на чтение и запись.

Таким образом, чтобы стать полноценным пользователем Git, важно овладеть навыками работы с удаленным репозиторием. Среди них – создание новых и копирование к себе уже существующих удаленных репозиториев, загрузка на сервер локальных коммитов и скачивание изменения с сервера.

## 2. Настройка подключения удаленного репозитория. Группа команд git remote.

Необходимость подключить удаленный репозиторий к уже существующему локальному возникает в ситуациях, когда вы решаете выгрузить уже написанный код на удаленный сервер. Это нужно, чтобы другие разработчики смогли получить к нему доступ или чтобы вы сами могли заниматься разработкой с нескольких компьютеров (например, домашнего и рабочего).

Для управления подключением удаленных репозиториев в Git предусмотрена целая группа команд – git remote. Мы рассмотрим самые активно используемые команды из этой группы.

### 2.1. Добавление удаленного репозитория к существующему локальному. Команда git remote add.
Давайте разберемся, как добавить удаленный репозиторий к вашему локальному репу. Для этого в Git есть команда **git remote add**.

```
git remote add <название удаленного репозитория> <ссылка на удаленный репозиторий>
```
Данная команда подключает удаленный репозиторий к вашему под переданным именем.

Имя удаленного репозитория в команде **git remote add** вы можете придумать сами. Впоследствии, при работе с этим удаленным репозиторием, вы будете обращаться к нему по придуманному имени. Принято называть удаленный репозиторий *origin*, но строго говоря, никаких ограничений здесь нет.

**Со ссылкой** на удаленный репозиторий тоже все просто. Мы работаем с GitHub, поэтому эту ссылку можно взять, нажав на большую зеленую кнопку **Code** на странице репозитория на GitHub.

###2.2. Отключение удаленного репозитория от локального. Команда git remote remove.

Иногда возникает необходимость забыть удаленный репозиторий. Для этого существует команда **git remote remove**.

```
git remote remove <название удаленного репозитория>
```
Данная команда отключает переданный удаленный репозиторий от вашего. В качестве имени репозитория нужно передавать то имя, которое вы указывали в команде **git remote add**. Заметьте, данная команда не удаляет удаленный репозиторий с сервера, она удаляет только подключение вашего репозитория к удаленному.

## 3. Клонирование удаленного репозитория. Команда git clone.

Теперь, когда мы разобрались с настройкой подключения удаленного репозитория к уже существующему, давайте узнаем, как можно склонировать удаленный репозиторий к себе на компьютер. Операция клонирования создаёт на вашем компьютере точную копию удаленного репозитория.

Необходимость клонировать существующий удаленный репозиторий возникает в ситуациях, когда вы решаете поработать над уже существующим кодом. Для выполнения этой операции в Git предусмотрена команда **git clone**.

```
git clone <ссылка на удаленный репозиторий>
```
Команда клонирует переданный репозиторий на ваш компьютер.

Ссылку на удаленный репозиторий можно получить тем же способом, что мы разбирали выше. Нужно нажать на зеленую кнопку **Code** на главной странице репозитория на GitHub.

```
Кстати

Вместо git clone можно было бы создать пустой локальный git-репозиторий, выполнив команду git init. 
Затем подключить наш удаленный репозиторий командой git remote add origin
После чего вручную загрузить изменения с удаленного репозитория командой git pull, которую мы рассмотрим ниже.
Но зачем делать что-то вручную, если для этого есть автоматизированный инструмент из коробки :))
```
## 4. Получение изменений из удаленного репозитория. Команда git pull

Для того, чтобы получать изменения и сразу обновлять рабочую копию так, чтобы она соответствовала удаленному репозиторию, в Git существует отдельная специальная команда **git pull**.

```
git pull [ключи] [имя удаленного репозитория]
```
Данной командой мы получаем изменения из переданного удаленного репозитория и обновляет рабочую копию в соответствии с удаленным репозиторием. По умолчанию слияние удаленной ветки с локальной происходит именно в fast-forward режиме, так что включать его специально не требуется

## 5. Отправка изменений в удаленный репозиторий. Команда git push

Мы знаем почти все про удаленный репозиторий. Осталось изучить, как загружать в него свои локальные изменения. Для этого в Git существует команда **git push**.

```
git push [ключи] [имя удаленного репозитория] [имя ветки]
```

Команда загружает изменения в удаленный репозиторий. Если слияние изменений в удаленном репозитории нельзя сделать в режиме fast-forward, и при этом не был передан ключ force, выполнение закончится с ошибкой.

## Полезная ссылка
Это и многое другое можно найти по [ссылке](https://smartiqa.ru/courses/git/lesson-6)

